dofile("tests/spec_helper.lua")
-- load module defines globals
_dofile = dofile
assert(loadfile('gamma_walo/gamedata/scripts/dialogs.script','t',_ENV))()

describe('dialogs', function()
    it('reads task limit from ui options', function()
        ui_options.get = function() return 3 end
        assert.equals(3, get_npc_task_limit())
    end)

    it('detects warfare disabled flag', function()
        _G.WARFARE = nil
        assert.is_true(warfare_disabled())
        _G.WARFARE = true
        assert.is_false(warfare_disabled())
    end)
end)
